<!DOCTYPE html>
<html>
<head>
    <title>Student Enrollment Form</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        .form-field {
            margin-bottom: 10px;
        }
    </style>
    <script>
        $(document).ready(function() {
            var isNewEntry = true;
            
            function enableButtons() {
                $('#saveBtn').prop('disabled', false);
                $('#resetBtn').prop('disabled', false);
            }
            
            function disableButtons() {
                $('#saveBtn').prop('disabled', true);
                $('#updateBtn').prop('disabled', true);
                $('#resetBtn').prop('disabled', true);
            }
            
            function enableFields() {
                $('input').prop('disabled', false);
                $('input').removeAttr('disabled');
            }
            
            function disableFields() {
                $('input').prop('disabled',false );
            }
            
            function resetForm() {
                $('input').val('');
                disableButtons();
                disableFields();
                $('#rollNo').prop('disabled', false);
                $('#rollNo').focus();
                isNewEntry = true;
            }
            
            function loadDataFromDatabase(rollNo) {
                // Simulate loading data from the database
                var data = {
                    "rollNo": rollNo,
                    "fullName": "John Doe",
                    "class": "10th",
                    "birthDate": "2005-01-01",
                    "address": "123 Main St",
                    "enrollmentDate": "2023-06-01"
                };
                // Populate the form fields with the loaded data
                $('#rollNo').val(data.rollNo);
                $('#fullName').val(data.fullName);
                $('#class').val(data.class);
                $('#birthDate').val(data.birthDate);
                $('#address').val(data.address);
                $('#enrollmentDate').val(data.enrollmentDate);
                
                $('#updateBtn').prop('disabled', false);
                enableFields();
                $('#fullName').focus();
                isNewEntry = false;
            }
            
            // Event handler for the Roll No. field
            $('#rollNo').on('keyup', function() {
                if ($(this).val() !== '') {
                    enableButtons();
                } else {
                    disableButtons();
                }
            });
            
            // Event handler for the Save button
            $('#saveBtn').on('click', function() {
                var rollNo = $('#rollNo').val();
                var fullName = $('#fullName').val();
                var className = $('#class').val();
                var birthDate = $('#birthDate').val();
                var address = $('#address').val();
                var enrollmentDate = $('#enrollmentDate').val();
                
                // Validate the input fields
                if (rollNo === '' || fullName === '' || className === '' || birthDate === '' || address === '' || enrollmentDate === '') {
                    alert('Please fill in all the fields.');
                    return;
                }
                
                // Save the data to the database (simulate AJAX call)
                // ...
                
                alert('Data saved successfully!');
                resetForm();
            });
            
            // Event handler for the Update button
            $('#updateBtn').on('click', function() {
                var rollNo = $('#rollNo').val();
                var fullName = $('#fullName').val();
                var className = $('#class').val();
                var birthDate = $('#birthDate').val();
                var address = $('#address').val();
                var enrollmentDate = $('#enrollmentDate').val();
                
                // Validate the input fields
                if (fullName === '' || className === '' || birthDate === '' || address === '' || enrollmentDate === '') {
                    alert('Please fill in all the fields.');
                    return;
                }
                
                // Update the data in the database (simulate AJAX call)
                // ...
                
                alert('Data updated successfully!');
                resetForm();
            });
            
            // Event handler for the Reset button
            $('#resetBtn').on('click', function() {
                resetForm();
            });
            
            // Load the form for a new entry
            resetForm();
            
            // Simulate loading data for an existing entry (Roll No. = 123)
            // loadDataFromDatabase(123);
        });
    </script>
</head>
<body>
    <h2>Student Enrollment Form</h2>
    <form method="post" action="index.php">
        <div class="form-field">
            <label for="rollNo">Roll No.:</label>
            <input type="text" id="rollNo">
        </div>
        <div class="form-field">
            <label for="fullName">Full Name:</label>
            <input type="text" id="fullName" disabled>
        </div>
        <div class="form-field">
            <label for="class">Class:</label>
            <input type="text" id="class" disabled>
        </div>
        <div class="form-field">
            <label for="birthDate">Birth Date:</label>
            <input type="date" id="birthDate" disabled>
        </div>
        <div class="form-field">
            <label for="address">Address:</label>
            <input type="text" id="address" disabled>
        </div>
        <div class="form-field">
            <label for="enrollmentDate">Enrollment Date:</label>
            <input type="date" id="enrollmentDate" disabled>
        </div>
        <button type="button" id="saveBtn" disabled>Save</button>
        <button type="button" id="updateBtn" disabled>Update</button>
        <button type="button" id="resetBtn" disabled>Reset</button>
    </form>
</body>
</html>

